- [x] No custom css loaded in browserAction popup â†’ popup buttons & select is styled wrong. Fixed by relying on base.css variables
- [ ] Internal pages still styled with add-on colors even if add-on is disabled (via internal "enable" option)
- [x] Instant options update
- [ ] proper generate_urls
  - [ ] recognize TLDs
- [x] clear configured_private on last private tab close
  - [x] implementation
  - [x] test it
  - [x] ~~browser.runtime.sendMessage seems doesn't work from browserAction popup~~ it works, also, use tabs.sendMessage to send something _to content scripts_
- [ ] bug 1393022 workaround
  - [x] base workaround
  - [ ] resolve relative urls for CSS properties
    - [x] background(-image)
    - [ ] @font-face
    - [ ] list-style
    - [ ] cursor
    - [ ] anything else?
  - [ ] CSP (use inline stylesheets when data: urls are forbidden and vice-versa)
  - [x] foreign imports in inline stylesheet
- [x] pdf.js issues (example: https://pdfs.semanticscholar.org/48fc/8f1aa0b6d1e4266b8017820ff8770fb67b6f.pdf)
- [ ] clean up on unload (currently impossible: `runtime.onSuspend` is not implemented in Firefox)
- [ ] load into all tabs on load
- [ ] detect bad settings and ask user to fix
  - [ ] use system colors
  - [ ] allow pages to overwrite colors
